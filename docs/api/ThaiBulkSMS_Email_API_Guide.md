# ЁЯУз ThaiBulkSMS Email API тАУ р╕Др╕╣р╣Ир╕бр╕╖р╕нр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕Йр╕Ър╕▒р╕Ър╕кр╕бр╕Ър╕╣р╕гр╕Ур╣М

р╕Др╕╣р╣Ир╕бр╕╖р╕нр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ API р╕кр╣Ир╕Зр╕нр╕╡р╣Ар╕бр╕ер╕Ьр╣Ир╕▓р╕Щр╕гр╕░р╕Ър╕Ъ ThaiBulkSMS р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Щр╕▒р╕Бр╕Юр╕▒р╕Тр╕Щр╕▓
р╣Вр╕Фр╕вр╣Гр╕Кр╣Й **API Key / Secret** р╣Ар╕Юр╕╖р╣Ир╕нр╕Др╕зр╕▓р╕бр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕в р╣Бр╕ер╕░р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕кр╣Ир╕Зр╕нр╕╡р╣Ар╕бр╕ер╕Фр╣Йр╕зр╕в **Template + Merge Tag**

**р╣Ар╕зр╕нр╕гр╣Мр╕Кр╕▒р╕Щ:** 1.1
**р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕ер╣Ир╕▓р╕кр╕╕р╕Ф:** 2025-01-12

---

## ЁЯУС р╕кр╕▓р╕гр╕Ър╕▒р╕Н

1. [р╕ар╕▓р╕Юр╕гр╕зр╕бр╕гр╕░р╕Ър╕Ъ](#-р╕ар╕▓р╕Юр╕гр╕зр╕бр╕гр╕░р╕Ър╕Ъ)
2. [р╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╣Ар╕Ър╕╖р╣Йр╕нр╕Зр╕Хр╣Йр╕Щ](#-р╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╣Ар╕Ър╕╖р╣Йр╕нр╕Зр╕Хр╣Йр╕Щ)
3. [р╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ Email Sender Profile](#-р╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓-email-sender-profile-р╕кр╕│р╕Др╕▒р╕Н)
4. [р╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕З Email Template](#-р╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕З-email-template)
5. [р╕Бр╕▓р╕гр╕кр╣Ир╕Зр╕нр╕╡р╣Ар╕бр╕ер╕Ьр╣Ир╕▓р╕Щ API](#-р╕Бр╕▓р╕гр╕кр╣Ир╕Зр╕нр╕╡р╣Ар╕бр╕ер╕Ьр╣Ир╕▓р╕Щ-api)
6. [р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╣Вр╕Др╣Йр╕Фр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ](#-р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╣Вр╕Др╣Йр╕Фр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ)
7. [Error Codes р╣Бр╕ер╕░р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕В](#-error-response)
8. [Best Practices](#-best-practices)
9. [Troubleshooting](#-troubleshooting)

---

## ЁЯзй р╕ар╕▓р╕Юр╕гр╕зр╕бр╕гр╕░р╕Ър╕Ъ

Email API р╕Ир╕▓р╕Б **ThaiBulkSMS (1Moby Co., Ltd.)**
р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щр╕Фр╕▒р╕Зр╕Щр╕╡р╣Й:

- р╣Гр╕Кр╣Й **API Key / Secret** р╣Бр╕Чр╕Щ Username/Password
- Response р╣Ар╕Ыр╣Зр╕Щ **JSON**
- р╕гр╕нр╕Зр╕гр╕▒р╕Ъ **Merge Tag** р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Ар╕Йр╕Юр╕▓р╕░р╕Ър╕╕р╕Др╕Др╕е
- р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕кр╣Ир╕Зр╕Фр╣Йр╕зр╕в **Template UUID**
- р╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕Кр╕╖р╣Ир╕нр╕б **Webhook** р╣Ар╕Юр╕╖р╣Ир╕нр╕гр╕▒р╕Ър╕кр╕Цр╕▓р╕Щр╕░р╕Бр╕▓р╕гр╕кр╣Ир╕З (Delivery Report)
- р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Ир╕│р╕Бр╕▒р╕Ф IP р╕Фр╣Йр╕зр╕в **IP Whitelist**
- **р╕гр╕нр╕Зр╕гр╕▒р╕Ъ Email Sender Profile** (р╕гр╕╣р╕Ыр╣Вр╕Ыр╕гр╣Др╕Яр╕ер╣Мр╕Ьр╕╣р╣Йр╕кр╣Ир╕З)

---

## ЁЯЪА р╕Бр╕▓р╕гр╕кр╣Ир╕Зр╕нр╕╡р╣Ар╕бр╕ер╕Ьр╣Ир╕▓р╕Щ API

**Endpoint**
```
POST https://tbs-email-api-gateway.omb.to/email/v1/send_template
```

**Authorization**
```
Basic Auth:
Username = {API_KEY}
Password = {API_SECRET}
```

### ЁЯФз Request Parameters

| Parameter | Type | Description |
|------------|------|-------------|
| `template_id` | uuid | р╕гр╕лр╕▒р╕к UUID р╕Вр╕нр╕Зр╣Ар╕Чр╕бр╣Ар╕Юр╕ер╕Хр╕нр╕╡р╣Ар╕бр╕е (р╕Др╕▒р╕Фр╕ер╕нр╕Бр╕Ир╕▓р╕Б Dashboard) |
| `payload` | string | р╕Др╣Ир╕▓р╕Вр╕нр╕З Merge Tag (р╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Ар╕Йр╕Юр╕▓р╕░р╣Бр╕Хр╣Ир╕ер╕░р╕Ьр╕╣р╣Йр╕гр╕▒р╕Ъ) |
| `mail_from` | string | р╕нр╕╡р╣Ар╕бр╕ер╕Ьр╕╣р╣Йр╕кр╣Ир╕З |
| `name` | string | р╕Кр╕╖р╣Ир╕нр╣Бр╕кр╕Фр╕Зр╕Ьр╕╣р╣Йр╕кр╣Ир╕З |
| `mail_to` | string | р╕нр╕╡р╣Ар╕бр╕ер╕Ьр╕╣р╣Йр╕гр╕▒р╕Ъ |
| `subject` | string | р╕лр╕▒р╕зр╕Вр╣Йр╕нр╕нр╕╡р╣Ар╕бр╕е |

### ЁЯз▒ р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З Request JSON
```json
{
  "template_id": "d8d5d980-xxxx-xxxx-xxxx-xxxxxxxxxx",
  "payload": {
    "FIRST_NAME": "John"
  },
  "mail_from": "noreply@company.com",
  "name": "Company Team",
  "mail_to": "customer@example.com",
  "subject": "р╕вр╕┤р╕Щр╕Фр╕╡р╕Хр╣Йр╕нр╕Щр╕гр╕▒р╕Ър╕Др╕╕р╕У John!"
}
```

### ЁЯз╛ р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З Response
```json
{
  "message_id": "664b7625-981e-4b2a-b174-0c0e2c234d45",
  "credit_type": "email",
  "credit_used": 1,
  "credit_remain": 29954
}
```

---

## ЁЯФз р╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╣Ар╕Ър╕╖р╣Йр╕нр╕Зр╕Хр╣Йр╕Щ

### ЁЯФС р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 1: р╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕З API Key / Secret

1. р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ъ [https://dashboard.thaibulksms.com](https://dashboard.thaibulksms.com)
2. р╣Др╕Ыр╕Чр╕╡р╣И **р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ > API Key**
3. р╕Др╕ер╕┤р╕Б **"р╕кр╕гр╣Йр╕▓р╕З API Key"**
   - р╕Бр╕гр╕нр╕Бр╕Кр╕╖р╣Ир╕нр╣Вр╕Ыр╕гр╣Ар╕Ир╕Бр╕Хр╣М (р╣Ар╕Кр╣Ир╕Щ "MyEmailApp")
   - р╣Гр╕кр╣И **Webhook URL** (р╣Ар╕Йр╕Юр╕▓р╕░р╣Бр╕Юр╣Зр╕Бр╣Ар╕Бр╕И Corporate - р╣Др╕бр╣Ир╕Ър╕▒р╕Зр╕Др╕▒р╕Ъ)
   - р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ **IP Whitelist** (р╣Др╕бр╣Ир╕Ър╕▒р╕Зр╕Др╕▒р╕Ъ р╣Бр╕Хр╣Ир╣Бр╕Щр╕░р╕Щр╕│р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Др╕зр╕▓р╕бр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕в)
4. р╕гр╕░р╕Ър╕Ър╕Ир╕░р╕кр╕гр╣Йр╕▓р╕З **API Key** р╣Бр╕ер╕░ **API Secret**
5. **тЪая╕П р╕кр╕│р╕Др╕▒р╕Н:** р╕Др╕▒р╕Фр╕ер╕нр╕Бр╣Бр╕ер╕░р╣Ар╕Бр╣Зр╕Ър╕гр╕▒р╕Бр╕йр╕▓р╕Чр╕▒р╣Йр╕Зр╕кр╕нр╕Зр╕Др╣Ир╕▓р╣Др╕зр╣Йр╕нр╕вр╣Ир╕▓р╕Зр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕в (р╕Ир╕░р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Фр╕╣р╕нр╕╡р╕Бр╕Др╕гр╕▒р╣Йр╕Зр╣Др╕Фр╣Й)

### ЁЯТ╛ р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╣Ар╕Бр╣Зр╕Ъ Credentials

р╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Яр╕ер╣М `.env.local` р╕лр╕гр╕╖р╕н `.env` (р╣Бр╕ер╣Йр╕зр╣Бр╕Хр╣Ир╣Вр╕Ыр╕гр╣Ар╕Ир╕Бр╕Хр╣М):

```bash
EMAIL_API_KEY=your_api_key_here
EMAIL_API_SECRET=your_api_secret_here
TEMPLATE_ID=your_template_uuid_here
```

**тЪая╕П р╕нр╕вр╣Ир╕▓р╕ер╕╖р╕б:** р╣Ар╕Юр╕┤р╣Ир╕б `.env.local` р╣Гр╕Щ `.gitignore` р╣Ар╕Юр╕╖р╣Ир╕нр╣Др╕бр╣Ир╣Гр╕лр╣Й commit р╕Вр╕╢р╣Йр╕Щ Git

---

## ЁЯСд р╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ Email Sender Profile (р╕кр╕│р╕Др╕▒р╕Н!)

### тЪая╕П р╕Вр╣Йр╕нр╕кр╕│р╕Др╕▒р╕Н

**р╕гр╕╣р╕Ыр╣Вр╕Ыр╕гр╣Др╕Яр╕ер╣Мр╣Бр╕ер╕░р╣Вр╕ер╣Вр╕Бр╣Йр╕Вр╕нр╕Зр╕Ьр╕╣р╣Йр╕кр╣Ир╕Зр╕нр╕╡р╣Ар╕бр╕е р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╕кр╣Ир╕Зр╕Ьр╣Ир╕▓р╕Щ API р╣Др╕Фр╣Й**

р╕Др╕╕р╕У**р╕Хр╣Йр╕нр╕Зр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╕Ьр╣Ир╕▓р╕Щ Dashboard р╕Бр╣Ир╕нр╕Щ** р╣Бр╕ер╣Йр╕зр╕Др╣Ир╕нр╕вр╣Гр╕Кр╣Йр╕нр╕╡р╣Ар╕бр╕ер╕Щр╕▒р╣Йр╕Щр╣Гр╕Щ API

### ЁЯУЭ р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 2: р╕ер╕Зр╕Чр╕░р╣Ар╕Ър╕╡р╕вр╕Щ Email Sender

1. р╣Ар╕Вр╣Йр╕▓ **Dashboard** > **Email Settings** р╕лр╕гр╕╖р╕н **Sender Management**
2. р╕Др╕ер╕┤р╕Б **"р╣Ар╕Юр╕┤р╣Ир╕бр╕нр╕╡р╣Ар╕бр╕ер╕Ьр╕╣р╣Йр╕кр╣Ир╕З"** (Add Sender Email)
3. р╕Бр╕гр╕нр╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕е:
   - **Email Address**: р╣Ар╕Кр╣Ир╕Щ `noreply@yourdomain.com`, `support@paydee.me`
   - **Display Name**: р╕Кр╕╖р╣Ир╕нр╕Чр╕╡р╣Ир╕Ир╕░р╣Бр╕кр╕Фр╕З р╣Ар╕Кр╣Ир╕Щ "Paydee Team", "Company Support"
   - **Profile Picture/Logo**: р╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╕гр╕╣р╕Ы (р╣Бр╕Щр╕░р╕Щр╕│ 200x200px, PNG/JPG)
4. р╕Др╕ер╕┤р╕Б **"р╕вр╕╖р╕Щр╕вр╕▒р╕Щ"** р╕лр╕гр╕╖р╕н **"Submit"**
5. р╕гр╕░р╕Ър╕Ър╕Ир╕░р╕кр╣Ир╕З **Verification Email** р╣Др╕Ыр╕Чр╕╡р╣Ир╕нр╕╡р╣Ар╕бр╕ер╕Чр╕╡р╣Ир╕гр╕░р╕Ър╕╕
6. р╕Др╕ер╕┤р╕Бр╕ер╕┤р╕Зр╕Бр╣Мр╕вр╕╖р╕Щр╕вр╕▒р╕Щр╣Гр╕Щр╕нр╕╡р╣Ар╕бр╕е
7. р╕гр╕н**р╕нр╕Щр╕╕р╕бр╕▒р╕Хр╕┤** (р╕нр╕▓р╕Ир╣Гр╕Кр╣Йр╣Ар╕зр╕ер╕▓ 1-24 р╕Кр╕▒р╣Ир╕зр╣Вр╕бр╕З)

### ЁЯФР р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 3: Email Authentication (р╣Бр╕Щр╕░р╕Щр╕│)

р╣Ар╕Юр╕╖р╣Ир╕нр╣Ар╕Юр╕┤р╣Ир╕б deliverability р╣Бр╕ер╕░р╕ер╕Фр╣Вр╕нр╕Бр╕▓р╕кр╕Хр╕┤р╕Ф spam:

#### SPF Record
р╣Ар╕Юр╕┤р╣Ир╕б TXT record р╣Гр╕Щ DNS р╕Вр╕нр╕Зр╣Вр╕Фр╣Ар╕бр╕Щ:
```
v=spf1 include:_spf.thaibulksms.com ~all
```

#### DKIM
- ThaiBulkSMS р╕Ир╕░р╣Гр╕лр╣Й DKIM key р╕лр╕ер╕▒р╕Зр╕Ир╕▓р╕Бр╕ер╕Зр╕Чр╕░р╣Ар╕Ър╕╡р╕вр╕Щр╕нр╕╡р╣Ар╕бр╕е
- р╣Ар╕Юр╕┤р╣Ир╕б CNAME record р╣Гр╕Щ DNS р╕Хр╕▓р╕бр╕Чр╕╡р╣Ир╕гр╕░р╕Ър╕╕

#### DMARC (р╣Др╕бр╣Ир╕Ър╕▒р╕Зр╕Др╕▒р╕Ър╣Бр╕Хр╣Ир╣Бр╕Щр╕░р╕Щр╕│)
```
v=DMARC1; p=quarantine; rua=mailto:dmarc@yourdomain.com
```

### тЬЕ р╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ

р╕лр╕ер╕▒р╕Зр╕Ир╕▓р╕Бр╕ер╕Зр╕Чр╕░р╣Ар╕Ър╕╡р╕вр╕Щр╕кр╕│р╣Ар╕гр╣Зр╕И:
- р╕нр╕╡р╣Ар╕бр╕ер╕Ьр╕╣р╣Йр╕кр╣Ир╕Зр╕Ир╕░р╕Ыр╕гр╕▓р╕Бр╕Пр╣Гр╕Щр╕гр╕▓р╕вр╕Бр╕▓р╕г "Verified Senders"
- р╕кр╕Цр╕▓р╕Щр╕░р╕Ир╕░р╣Ар╕Ыр╣Зр╕Щ **"Active"** р╕лр╕гр╕╖р╕н **"Verified"**
- р╕гр╕╣р╕Ыр╣Вр╕Ыр╕гр╣Др╕Яр╕ер╣Мр╕Ир╕░р╣Бр╕кр╕Фр╕Зр╣Ар╕бр╕╖р╣Ир╕нр╕кр╣Ир╕Зр╕нр╕╡р╣Ар╕бр╕е

**тЭМ р╕лр╕▓р╕Бр╣Др╕бр╣Ир╕ер╕Зр╕Чр╕░р╣Ар╕Ър╕╡р╕вр╕Щ:** API р╕Ир╕░ return error `ERROR_SENDER_EMAIL_NOT_FOUND`

---

## ЁЯУз р╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕З Email Template

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 4: р╕кр╕гр╣Йр╕▓р╕З Template

1. р╣Др╕Ыр╕Чр╕╡р╣И **Dashboard** > **Email Templates** р╕лр╕гр╕╖р╕н **р╣Ар╕Чр╕бр╣Ар╕Юр╕ер╕Хр╕нр╕╡р╣Ар╕бр╕е**
2. р╕Др╕ер╕┤р╕Б **"р╕кр╕гр╣Йр╕▓р╕Зр╣Ар╕Чр╕бр╣Ар╕Юр╕ер╕Хр╣Гр╕лр╕бр╣И"** (Create New Template)
3. р╣Ар╕ер╕╖р╕нр╕Бр╕зр╕┤р╕Шр╕╡р╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕З:
   - **р╣Гр╕Кр╣Йр╣Ар╕Чр╕бр╣Ар╕Юр╕ер╕Хр╕кр╕│р╣Ар╕гр╣Зр╕Ир╕гр╕╣р╕Ы** (р╣Ар╕ер╕╖р╕нр╕Бр╕Ир╕▓р╕Бр╕Др╕ер╕▒р╕З)
   - **р╕кр╕гр╣Йр╕▓р╕Зр╣Ар╕нр╕З** (HTML Editor)
   - **р╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Ф HTML** (Upload HTML file)

### ЁЯП╖я╕П р╕Бр╕▓р╕гр╣Гр╕Кр╣Й Merge Tags

Merge Tags р╣Гр╕Кр╣Йр╣Бр╕Чр╕Щр╕Чр╕╡р╣Ир╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Ар╕Йр╕Юр╕▓р╕░р╕Ър╕╕р╕Др╕Др╕е:

**р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╣Гр╕Щ Template:**
```html
<h1>р╕кр╕зр╕▒р╕кр╕Фр╕╡р╕Др╕╕р╕У {{FIRST_NAME}}</h1>
<p>р╕нр╕╡р╣Ар╕бр╕ер╕Вр╕нр╕Зр╕Др╕╕р╕Ур╕Др╕╖р╕н: {{EMAIL}}</p>
<p>р╕гр╕лр╕▒р╕кр╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н: {{ORDER_ID}}</p>
```

**р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╣Гр╕Щ API Payload:**
```json
{
  "FIRST_NAME": "р╕кр╕бр╕Кр╕▓р╕в",
  "EMAIL": "somchai@example.com",
  "ORDER_ID": "ORD-12345"
}
```

**р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣Мр╕Чр╕╡р╣Ир╕Ьр╕╣р╣Йр╕гр╕▒р╕Ър╣Ар╕лр╣Зр╕Щ:**
```
р╕кр╕зр╕▒р╕кр╕Фр╕╡р╕Др╕╕р╕У р╕кр╕бр╕Кр╕▓р╕в
р╕нр╕╡р╣Ар╕бр╕ер╕Вр╕нр╕Зр╕Др╕╕р╕Ур╕Др╕╖р╕н: somchai@example.com
р╕гр╕лр╕▒р╕кр╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н: ORD-12345
```

### ЁЯУЛ Merge Tags р╕Чр╕╡р╣Ир╣Бр╕Щр╕░р╕Щр╕│

| Tag | р╕Др╕│р╕нр╕Шр╕┤р╕Ър╕▓р╕в | р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З |
|-----|---------|---------|
| `{{FIRST_NAME}}` | р╕Кр╕╖р╣Ир╕нр╕Ир╕гр╕┤р╕З | "р╕кр╕бр╕Кр╕▓р╕в" |
| `{{LAST_NAME}}` | р╕Щр╕▓р╕бр╕кр╕Бр╕╕р╕е | "р╣Гр╕Ир╕Фр╕╡" |
| `{{EMAIL}}` | р╕нр╕╡р╣Ар╕бр╕ер╕Ьр╕╣р╣Йр╕гр╕▒р╕Ъ | "somchai@example.com" |
| `{{PHONE}}` | р╣Ар╕Ър╕нр╕гр╣Мр╣Вр╕Чр╕гр╕ир╕▒р╕Юр╕Чр╣М | "081-234-5678" |
| `{{ORDER_ID}}` | р╕гр╕лр╕▒р╕кр╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н | "ORD-12345" |
| `{{AMOUNT}}` | р╕вр╕нр╕Фр╣Ар╕Зр╕┤р╕Щ | "1,250.00" |
| `{{DATE}}` | р╕зр╕▒р╕Щр╕Чр╕╡р╣И | "12 р╕бр╕Бр╕гр╕▓р╕Др╕б 2568" |
| `{{LINK}}` | р╕ер╕┤р╕Зр╕Бр╣М | "https://example.com/verify" |

### ЁЯТ╛ р╕Ър╕▒р╕Щр╕Чр╕╢р╕Б Template

1. р╕Др╕ер╕┤р╕Б **"р╕Ър╕▒р╕Щр╕Чр╕╢р╕Б"** (Save)
2. р╕Хр╕▒р╣Йр╕Зр╕Кр╕╖р╣Ир╕нр╣Ар╕Чр╕бр╣Ар╕Юр╕ер╕Х (р╣Ар╕Кр╣Ир╕Щ "Welcome Email", "Order Confirmation")
3. р╕гр╕░р╕Ър╕Ър╕Ир╕░р╕кр╕гр╣Йр╕▓р╕З **Template UUID** (р╣Ар╕Кр╣Ир╕Щ `d8d5d980-xxxx-xxxx-xxxx-xxxxxxxxxx`)
4. **р╕Др╕▒р╕Фр╕ер╕нр╕Б UUID** р╕Щр╕╡р╣Йр╣Др╕зр╣Йр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╣Гр╕Щ API

---

## ЁЯФБ р╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕З Webhook (Delivery Report)

р╣Гр╕Кр╣Йр╣Ар╕Юр╕╖р╣Ир╕нр╕гр╕▒р╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╕Цр╕▓р╕Щр╕░р╕Бр╕▓р╕гр╕кр╣Ир╕Зр╕нр╕╡р╣Ар╕бр╕е (DR)

- р╕кр╕гр╣Йр╕▓р╕З endpoint р╣Ар╕Кр╣Ир╕Щ  
  ```
  https://yourdomain.com/callback_dr
  ```
- р╕Щр╕│р╕ер╕┤р╕Зр╕Бр╣Мр╕Щр╕╡р╣Йр╣Др╕Ыр╕Ьр╕╣р╕Бр╕Бр╕▒р╕Ъ API Key р╣Гр╕Щ Dashboard  
- р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕╡р╣И ThaiBulkSMS р╕кр╣Ир╕Зр╕Бр╕ер╕▒р╕Ъ:
  ```
  message_id=5025d86e-2741-4829-9028-bec9bb6xxxxx&
  recipient=example@mail.com&
  status=delivered&
  reason=success&
  click_url=https://example.com
  ```

---

## ЁЯФТ IP Whitelist

р╕кр╕▓р╕бр╕▓р╕гр╕Цр╕гр╕░р╕Ър╕╕ IP р╕Чр╕╡р╣Ир╕нр╕Щр╕╕р╕Нр╕▓р╕Хр╣Гр╕лр╣Йр╣Ар╕гр╕╡р╕вр╕Бр╣Гр╕Кр╣Й API р╣Др╕Фр╣Й  
> р╕лр╕▓р╕Б IP р╣Др╕бр╣Ир╕Хр╕гр╕Зр╕Бр╕▒р╕Ър╕Чр╕╡р╣Ир╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╣Др╕зр╣Й р╕Ир╕░р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ API р╣Др╕Фр╣Й

р╣Бр╕Щр╕░р╕Щр╕│р╣Гр╕лр╣Йр╣Гр╕Кр╣Й **Fixed IP** р╣Ар╕Юр╕╖р╣Ир╕нр╕Др╕зр╕▓р╕бр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕в

---

## ЁЯТ│ р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Ар╕Др╕гр╕Фр╕┤р╕Хр╕Др╕Зр╣Ар╕лр╕ер╕╖р╕н

**Endpoint**
```
GET https://tbs-email-api-gateway.omb.to/email/v1/credit
```

**Authorization:**  
р╣Гр╕Кр╣Й Basic Auth (API Key / Secret)

**Response р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З**
```json
{
  "credit_remain": 29954
}
```

---

## тЪая╕П Error Response

### р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕З Error
```json
{
  "statusCode": 404,
  "timestamp": "2024-01-10T10:14:48.814Z",
  "path": "/email/v1/send_template",
  "message": "ERROR_EMAIL_SENDER_NOT_FOUND"
}
```

### р╕гр╕▓р╕вр╕Бр╕▓р╕гр╕гр╕лр╕▒р╕к Error р╕кр╕│р╕Др╕▒р╕Н

| Status | Code | Description |
|---------|------|-------------|
| 400 | `ERROR_CALLBACK_URL` | Callback URL р╣Др╕бр╣Ир╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З |
| 401 | `ERROR_AUTHENTICATION_FAILED` | Authentication р╕Ьр╕┤р╕Ф |
| 402 | `ERROR_INSUFFICIENT_CREDIT` | р╣Ар╕Др╕гр╕Фр╕┤р╕Хр╣Др╕бр╣Ир╕Юр╕н |
| 403 | `ERROR_IP_NOT_ALLOWED` | IP р╣Др╕бр╣Ир╕нр╕вр╕╣р╣Ир╣Гр╕Щ Whitelist |
| 404 | `ERROR_SENDER_EMAIL_NOT_FOUND` | р╣Др╕бр╣Ир╕Юр╕Ър╕нр╕╡р╣Ар╕бр╕ер╕Ьр╕╣р╣Йр╕кр╣Ир╕З |
| 404 | `ERROR_TEMPLATE_EMAIL_NOT_FOUND` | р╣Др╕бр╣Ир╕Юр╕Ър╣Ар╕Чр╕бр╣Ар╕Юр╕ер╕Х |

---

---

## ЁЯТ╗ р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╣Вр╕Др╣Йр╕Фр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

### Node.js / JavaScript (ES Modules)

```javascript
import axios from 'axios';

const API_KEY = process.env.EMAIL_API_KEY;
const API_SECRET = process.env.EMAIL_API_SECRET;
const TEMPLATE_ID = process.env.TEMPLATE_ID;

async function sendEmail(recipientEmail, firstName) {
  try {
    const response = await axios.post(
      'https://tbs-email-api-gateway.omb.to/email/v1/send_template',
      {
        template_uuid: TEMPLATE_ID,
        payload: {
          FIRST_NAME: firstName,
          EMAIL: recipientEmail
        },
        mail_from: {
          email: 'noreply@yourdomain.com',  // р╕Хр╣Йр╕нр╕Зр╕ер╕Зр╕Чр╕░р╣Ар╕Ър╕╡р╕вр╕Щр╕Бр╣Ир╕нр╕Щ
          name: 'Your Company'
        },
        mail_to: {
          email: recipientEmail
        },
        subject: `р╕вр╕┤р╕Щр╕Фр╕╡р╕Хр╣Йр╕нр╕Щр╕гр╕▒р╕Ър╕Др╕╕р╕У ${firstName}`
      },
      {
        auth: {
          username: API_KEY,
          password: API_SECRET
        },
        headers: {
          'Content-Type': 'application/json'
        },
        timeout: 10000
      }
    );

    console.log('тЬЕ Email sent:', response.data);
    return response.data;
  } catch (error) {
    if (error.response) {
      console.error('тЭМ API Error:', error.response.status, error.response.data);
    } else {
      console.error('тЭМ Network Error:', error.message);
    }
    throw error;
  }
}

// р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ
await sendEmail('customer@example.com', 'р╕кр╕бр╕Кр╕▓р╕в');
```

### Next.js API Route

```typescript
// app/api/send-email/route.ts
import { NextRequest, NextResponse } from 'next/server';

export async function POST(request: NextRequest) {
  try {
    const { mail_to, first_name, mail_from, name, subject } = await request.json();

    // Validate
    if (!mail_to || !first_name || !mail_from || !name || !subject) {
      return NextResponse.json(
        { error: 'р╕Бр╕гр╕╕р╕Ур╕▓р╕Бр╕гр╕нр╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Гр╕лр╣Йр╕Др╕гр╕Ър╕Цр╣Йр╕зр╕Щ' },
        { status: 400 }
      );
    }

    const apiKey = process.env.EMAIL_API_KEY;
    const apiSecret = process.env.EMAIL_API_SECRET;
    const templateId = process.env.TEMPLATE_ID;

    const basicAuth = Buffer.from(`${apiKey}:${apiSecret}`).toString('base64');

    const response = await fetch(
      'https://tbs-email-api-gateway.omb.to/email/v1/send_template',
      {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Authorization': `Basic ${basicAuth}`
        },
        body: JSON.stringify({
          template_uuid: templateId,
          payload: {
            FIRST_NAME: first_name,
            EMAIL: mail_to
          },
          mail_from: { email: mail_from, name },
          mail_to: { email: mail_to },
          subject
        })
      }
    );

    const data = await response.json();

    if (!response.ok) {
      return NextResponse.json(
        { error: data.message || 'Failed to send email' },
        { status: response.status }
      );
    }

    return NextResponse.json({
      success: true,
      message: 'р╕кр╣Ир╕Зр╕нр╕╡р╣Ар╕бр╕ер╕кр╕│р╣Ар╕гр╣Зр╕И',
      data
    });
  } catch (error) {
    return NextResponse.json(
      { error: 'Internal server error' },
      { status: 500 }
    );
  }
}
```

### Python

```python
import requests
import os
from requests.auth import HTTPBasicAuth

API_KEY = os.getenv('EMAIL_API_KEY')
API_SECRET = os.getenv('EMAIL_API_SECRET')
TEMPLATE_ID = os.getenv('TEMPLATE_ID')

def send_email(recipient_email, first_name):
    url = 'https://tbs-email-api-gateway.omb.to/email/v1/send_template'

    data = {
        'template_uuid': TEMPLATE_ID,
        'payload': {
            'FIRST_NAME': first_name,
            'EMAIL': recipient_email
        },
        'mail_from': {
            'email': 'noreply@yourdomain.com',
            'name': 'Your Company'
        },
        'mail_to': {
            'email': recipient_email
        },
        'subject': f'р╕вр╕┤р╕Щр╕Фр╕╡р╕Хр╣Йр╕нр╕Щр╕гр╕▒р╕Ър╕Др╕╕р╕У {first_name}'
    }

    try:
        response = requests.post(
            url,
            json=data,
            auth=HTTPBasicAuth(API_KEY, API_SECRET),
            headers={'Content-Type': 'application/json'},
            timeout=10
        )
        response.raise_for_status()

        print('тЬЕ Email sent:', response.json())
        return response.json()
    except requests.exceptions.RequestException as e:
        print(f'тЭМ Error: {e}')
        if hasattr(e.response, 'json'):
            print(e.response.json())
        raise

# р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ
send_email('customer@example.com', 'р╕кр╕бр╕Кр╕▓р╕в')
```

---

## ЁЯУК Best Practices

### 1. р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕г Credentials
- тЬЕ р╣Ар╕Бр╣Зр╕Ъ API Key/Secret р╣Гр╕Щ environment variables
- тЬЕ р╣Гр╕Кр╣Й `.env.local` р╣Бр╕ер╕░р╣Ар╕Юр╕┤р╣Ир╕бр╣Гр╕Щ `.gitignore`
- тЭМ р╕нр╕вр╣Ир╕▓ hard-code credentials р╣Гр╕Щр╣Вр╕Др╣Йр╕Ф
- тЭМ р╕нр╕вр╣Ир╕▓ commit credentials р╕Вр╕╢р╣Йр╕Щ Git

### 2. Error Handling
```javascript
try {
  const result = await sendEmail(email, name);
  // р╕Ър╕▒р╕Щр╕Чр╕╢р╕Б message_id р╕кр╕│р╕лр╕гр╕▒р╕Ъ tracking
  await db.saveMessageId(result.message_id, email);
} catch (error) {
  if (error.response?.status === 402) {
    // р╣Ар╕Др╕гр╕Фр╕┤р╕Хр╕лр╕бр╕Ф - р╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щ admin
    await notifyAdmin('Email credit insufficient');
  } else if (error.response?.status === 404) {
    // Sender email р╣Др╕бр╣Ир╣Др╕Фр╣Йр╕ер╕Зр╕Чр╕░р╣Ар╕Ър╕╡р╕вр╕Щ
    console.error('Sender email not verified');
  }
  // Log error
  logger.error('Email send failed', { email, error });
}
```

### 3. Rate Limiting
- р╕кр╣Ир╕Зр╕нр╕╡р╣Ар╕бр╕ер╕Чр╕╡р╕ер╕░ batch (р╣Бр╕Щр╕░р╕Щр╕│ 10-50 emails/batch)
- р╣Гр╕кр╣И delay р╕гр╕░р╕лр╕зр╣Ир╕▓р╕З requests (~100-200ms)
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Ар╕Др╕гр╕Фр╕┤р╕Хр╕Бр╣Ир╕нр╕Щр╕кр╣Ир╕Зр╕Ир╕│р╕Щр╕зр╕Щр╕бр╕▓р╕Б

### 4. Validation
```javascript
function validateEmail(email) {
  const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  return regex.test(email);
}

function validatePayload(payload) {
  // р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ merge tags р╕Др╕гр╕Ър╕Цр╣Йр╕зр╕Щ
  const requiredTags = ['FIRST_NAME', 'EMAIL'];
  return requiredTags.every(tag => payload[tag]);
}
```

### 5. Logging & Monitoring
- р╕Ър╕▒р╕Щр╕Чр╕╢р╕Б `message_id` р╕Чр╕╕р╕Бр╕Др╕гр╕▒р╣Йр╕Зр╕Чр╕╡р╣Ир╕кр╣Ир╕Зр╕кр╕│р╣Ар╕гр╣Зр╕И
- Track delivery status р╕Ьр╣Ир╕▓р╕Щ Webhook
- р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ alert р╣Ар╕бр╕╖р╣Ир╕н error rate р╕кр╕╣р╕З
- Monitor р╣Ар╕Др╕гр╕Фр╕┤р╕Хр╕Др╕Зр╣Ар╕лр╕ер╕╖р╕н

### 6. Template Management
- р╣Гр╕Кр╣Й Template р╕Хр╣Ир╕▓р╕Зр╕Бр╕▒р╕Щр╕кр╕│р╕лр╕гр╕▒р╕Ъ purpose р╕Хр╣Ир╕▓р╕Зр╕Бр╕▒р╕Щ
- р╕Чр╕Фр╕кр╕нр╕Ъ Template р╕Бр╣Ир╕нр╕Щр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕Ир╕гр╕┤р╕З
- р╣Ар╕Бр╣Зр╕Ъ Template UUID р╣Гр╕Щ config/database

---

## ЁЯФН Troubleshooting

### р╕Ыр╕▒р╕Нр╕лр╕▓р╕Чр╕╡р╣Ир╕Юр╕Ър╕Ър╣Ир╕нр╕в

#### 1. `ERROR_SENDER_EMAIL_NOT_FOUND` (404)
**р╕кр╕▓р╣Ар╕лр╕Хр╕╕:** р╕нр╕╡р╣Ар╕бр╕ер╕Ьр╕╣р╣Йр╕кр╣Ир╕Зр╕вр╕▒р╕Зр╣Др╕бр╣Ир╣Др╕Фр╣Йр╕ер╕Зр╕Чр╕░р╣Ар╕Ър╕╡р╕вр╕Щр╕лр╕гр╕╖р╕нр╕вр╕▒р╕Зр╣Др╕бр╣И verified

**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Й:**
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╕нр╕╡р╣Ар╕бр╕ер╣Гр╕Щ `mail_from.email` р╕Хр╕гр╕Зр╕Бр╕▒р╕Ър╕Чр╕╡р╣Ир╕ер╕Зр╕Чр╕░р╣Ар╕Ър╕╡р╕вр╕Щр╣Гр╕Щ Dashboard
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕кр╕Цр╕▓р╕Щр╕░ verification (р╕Хр╣Йр╕нр╕Зр╣Ар╕Ыр╣Зр╕Щ "Active")
- р╕гр╕нр╕Бр╕▓р╕гр╕нр╕Щр╕╕р╕бр╕▒р╕Хр╕┤р╕Ир╕▓р╕Б ThaiBulkSMS (р╕нр╕▓р╕Ир╣Гр╕Кр╣Йр╣Ар╕зр╕ер╕▓ 1-24 р╕Кр╕▒р╣Ир╕зр╣Вр╕бр╕З)

#### 2. `ERROR_AUTHENTICATION_FAILED` (401)
**р╕кр╕▓р╣Ар╕лр╕Хр╕╕:** API Key р╕лр╕гр╕╖р╕н Secret р╣Др╕бр╣Ир╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З

**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Й:**
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ API_KEY р╣Бр╕ер╕░ API_SECRET р╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╣Др╕бр╣Ир╕бр╕╡р╕Кр╣Ир╕нр╕Зр╕зр╣Ир╕▓р╕Зр╕лр╕гр╕╖р╕нр╕нр╕▒р╕Бр╕Вр╕гр╕░р╕Юр╕┤р╣Ар╕ир╕йр╕Ыр╕░р╕Ыр╕Щр╣Гр╕Щ credentials
- р╕ер╕нр╕Зр╕кр╕гр╣Йр╕▓р╕З API Key р╣Гр╕лр╕бр╣И

#### 3. `ERROR_INSUFFICIENT_CREDIT` (402)
**р╕кр╕▓р╣Ар╕лр╕Хр╕╕:** р╣Ар╕Др╕гр╕Фр╕┤р╕Хр╣Др╕бр╣Ир╕Юр╕н

**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Й:**
- р╣Ар╕Хр╕┤р╕бр╣Ар╕Др╕гр╕Фр╕┤р╕Хр╣Гр╕Щ Dashboard
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Ар╕Др╕гр╕Фр╕┤р╕Хр╕Др╕Зр╣Ар╕лр╕ер╕╖р╕нр╕Фр╣Йр╕зр╕в API `/credit`

#### 4. `ERROR_IP_NOT_ALLOWED` (403)
**р╕кр╕▓р╣Ар╕лр╕Хр╕╕:** IP р╣Др╕бр╣Ир╕нр╕вр╕╣р╣Ир╣Гр╕Щ Whitelist

**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Й:**
- р╣Ар╕Юр╕┤р╣Ир╕б IP р╕Вр╕нр╕З server р╣Гр╕Щ Dashboard > API Key > IP Whitelist
- р╕Цр╣Йр╕▓р╣Гр╕Кр╣Й dynamic IP р╣Гр╕лр╣Йр╕Ыр╕┤р╕Ф IP Whitelist р╕лр╕гр╕╖р╕нр╣Гр╕Кр╣Й Fixed IP

#### 5. `ERROR_TEMPLATE_EMAIL_NOT_FOUND` (404)
**р╕кр╕▓р╣Ар╕лр╕Хр╕╕:** Template UUID р╣Др╕бр╣Ир╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З

**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Й:**
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Template UUID р╣Гр╕Щ Dashboard
- р╕Др╕▒р╕Фр╕ер╕нр╕Б UUID р╣Гр╕лр╕бр╣Ир╕нр╕╡р╕Бр╕Др╕гр╕▒р╣Йр╕З
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ Template р╣Др╕бр╣Ир╕Цр╕╣р╕Бр╕ер╕Ъ

#### 6. р╕нр╕╡р╣Ар╕бр╕ер╕Хр╕┤р╕Ф Spam
**р╕кр╕▓р╣Ар╕лр╕Хр╕╕:** р╕вр╕▒р╕Зр╣Др╕бр╣Ир╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ SPF, DKIM, DMARC

**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Й:**
- р╣Ар╕Юр╕┤р╣Ир╕б SPF record р╣Гр╕Щ DNS
- р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ DKIM р╕Хр╕▓р╕бр╕Чр╕╡р╣И ThaiBulkSMS р╣Бр╕Щр╕░р╕Щр╕│
- р╣Ар╕Юр╕┤р╣Ир╕б DMARC record
- р╕лр╕ер╕╡р╕Бр╣Ар╕ер╕╡р╣Ир╕вр╕Зр╕Др╕│р╕Чр╕╡р╣Ир╕бр╕▒р╕Бр╕Цр╕╣р╕Бр╕бр╕нр╕Зр╕зр╣Ир╕▓р╣Ар╕Ыр╣Зр╕Щ spam (FREE, WIN, CLICK HERE)

#### 7. Timeout Error
**р╕кр╕▓р╣Ар╕лр╕Хр╕╕:** Network р╕лр╕гр╕╖р╕н API response р╕Кр╣Йр╕▓

**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Й:**
- р╣Ар╕Юр╕┤р╣Ир╕б timeout р╣Гр╕Щ request (р╣Бр╕Щр╕░р╕Щр╕│ 10-30 р╕зр╕┤р╕Щр╕▓р╕Чр╕╡)
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ network connection
- р╕ер╕нр╕З retry 2-3 р╕Др╕гр╕▒р╣Йр╕З with exponential backoff

### р╕Бр╕▓р╕г Debug

```javascript
// р╣Ар╕Ыр╕┤р╕Ф debug mode
const response = await axios.post(url, data, {
  auth: { username: API_KEY, password: API_SECRET },
  validateStatus: () => true  // р╕гр╕▒р╕Ър╕Чр╕╕р╕Б status code
});

console.log('Status:', response.status);
console.log('Headers:', response.headers);
console.log('Data:', response.data);

// р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ request body
console.log('Request body:', JSON.stringify(data, null, 2));
```

---

## тЬЕ Quick Start Checklist

- [ ] р╕кр╕гр╣Йр╕▓р╕З API Key/Secret
- [ ] р╣Ар╕Бр╣Зр╕Ъ credentials р╣Гр╕Щ `.env.local`
- [ ] **р╕ер╕Зр╕Чр╕░р╣Ар╕Ър╕╡р╕вр╕Щр╕нр╕╡р╣Ар╕бр╕ер╕Ьр╕╣р╣Йр╕кр╣Ир╕З + р╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╕гр╕╣р╕Ыр╣Вр╕Ыр╕гр╣Др╕Яр╕ер╣М**
- [ ] р╕гр╕н verification email р╣Бр╕ер╕░р╕вр╕╖р╕Щр╕вр╕▒р╕Щ
- [ ] р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ SPF/DKIM record (р╣Бр╕Щр╕░р╕Щр╕│)
- [ ] р╕кр╕гр╣Йр╕▓р╕З Email Template р╕Юр╕гр╣Йр╕нр╕б Merge Tags
- [ ] р╕Др╕▒р╕Фр╕ер╕нр╕Б Template UUID
- [ ] р╕Чр╕Фр╕кр╕нр╕Ър╕кр╣Ир╕Зр╕нр╕╡р╣Ар╕бр╕е 1-2 р╕Йр╕Ър╕▒р╕Ъ
- [ ] р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕нр╕╡р╣Ар╕бр╕ер╕Чр╕╡р╣Ир╣Др╕Фр╣Йр╕гр╕▒р╕Ъ
- [ ] р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ Webhook (р╕Цр╣Йр╕▓р╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕г tracking)
- [ ] р╣Ар╕гр╕┤р╣Ир╕бр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕Ир╕гр╕┤р╕З

---

## ЁЯУЮ р╕Бр╕▓р╕гр╕Хр╕┤р╕Фр╕Хр╣Ир╕н Support

- **р╣Ар╕зр╣Зр╕Ър╣Др╕Лр╕Хр╣М:** [https://www.thaibulksms.com](https://www.thaibulksms.com)
- **Dashboard:** [https://dashboard.thaibulksms.com](https://dashboard.thaibulksms.com)
- **р╣Ар╕Ър╕нр╕гр╣Мр╣Вр╕Чр╕г:** 02-798-6055
- **LINE ID:** @Thaibulksms
- **Email:** support@thaibulksms.com

---

## ЁЯУЪ р╣Ар╕нр╕Бр╕кр╕▓р╕гр╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Хр╕┤р╕б

- [ThaiBulkSMS Email API Reference](https://developer.thaibulksms.com/reference)
- [р╕Др╕╣р╣Ир╕бр╕╖р╕нр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ Email (TH)](https://www.thaibulksms.com/user-manual/email/)
- [FAQ](https://www.thaibulksms.com/faq)

---

> ┬й 1Moby Co., Ltd. / ThaiBulkSMS
> **р╣Ар╕зр╕нр╕гр╣Мр╕Кр╕▒р╕Щ:** 1.1
> **р╕нр╕▒р╕Ыр╣Ар╕Фр╕Х:** 12 р╕бр╕Бр╕гр╕▓р╕Др╕б 2568
> р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Щр╕╡р╣Йр╕кр╕гр╕╕р╕Ыр╕Ир╕▓р╕Бр╣Ар╕нр╕Бр╕кр╕▓р╕г "р╕Др╕╣р╣Ир╕бр╕╖р╕нр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ Email API (TH)" р╣Бр╕ер╕░р╕Ыр╕гр╕░р╕кр╕Ър╕Бр╕▓р╕гр╕Ур╣Мр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕Ир╕гр╕┤р╕З
